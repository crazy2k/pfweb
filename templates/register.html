$def with (error = (0, None), username = '', passwd = '', realname = '', progdatas = [])

$var title: Registration
$var no_navbar: true

$if error[0] == 1:
    <div class="errmessage">The username you chose is already in
    use. Please, choose a different one.</div>
$elif error[0] == 2:
    <div class="errmessage">The following fields contain invalid data
    and need to be fixed in order to proceed with the registration:
    <ul>
    $if 'username' in error[1]:
        <li>Username</li>
    $if 'password' in error[1]:
        <li>Password</li>
    </div>
$elif error[0] == 3:
    <div class="errmessage">An error ocurred while saving your
    data: $error[1]</div>

<p>
If you want to use the system, we need you to register. Please, choose a
short username (without spaces), and a password. Then fill the rest of
the form.
</p>

<form method="post" action="register">
    <table border="0" cellspacing="0">
    <tr>
        <td>Username:</td>
        <td>
            <input type="text" name="username" size="14" value="$username" />
        </td>
    </tr>
    <tr>
        <td>Password:</td>
        <td>
            <input type="password" name="passwd" size="14" value="$passwd" />
        </td>
    </tr>
    <tr>
        <td>Real name:</td>
        <td>
            <input type="text" name="realname" size="30" value="$realname" />
        </td>
    </tr>
    </table>

    <ul class="idTabs">
        $for i in range(1, len(progdatas) + 1):
            $if i == 1:
                <li><a class="selected" href="#progdata_$i">Program $i</a></li>
            $else:
                <li><a href="#progdata_$i">Program $i</a></li>
    <li id="add_button_cont"><a class="add_button">+</a></li>
    </ul>
    <div id="progdata_cont">
    $for progdata in progdatas:
        $:progdata
    </div>

    <input type="submit" value="Register!" />
</form>

